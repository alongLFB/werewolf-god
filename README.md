# 狼人杀法官助手 🐺

一个基于 Next.js 的网页应用，帮助狼人杀新手玩家担任法官角色，通过标准化的流程引导和自动记录功能，让任何人都能轻松主持游戏。

## ✨ 特色功能

### 🎯 标准化流程引导
- 严格按照游戏规则的夜晚流程：守卫 → 狼人 → 预言家 → 女巫 → 猎人状态确认
- 完整的白天流程：天亮 → 讨论发言 → 投票放逐 → 执行结果
- 智能法官台词提示，新手也能专业主持

### 📝 自动记录系统
- 自动记录所有玩家行动和游戏状态变化
- 完整的游戏历史追踪
- 支持游戏数据导出和分享

### 🧠 智能判定提醒
- 自动检测游戏结束条件
- 复杂开枪机制的智能判定（猎人/狼王开枪状态）
- 特殊规则处理（同守同救、首夜自救等）
- 规则冲突提醒和错误预防

### 📱 移动优先设计
- 响应式设计，完美适配手机和平板
- 单手操作友好的界面布局
- 清晰的状态指示和视觉反馈

## 🎮 支持的游戏模式

| 模式 | 人数 | 配置 | 适用场景 |
|------|------|------|----------|
| 9人标准局 | 9人 | 3狼3民3神 | 新手入门 |
| 10人局 | 10人 | 3狼4民3神 | 平衡配置 |
| 12人狼王守卫 | 12人 | 4狼4民4神 | 进阶模式 |
| 12人白狼王骑士 | 12人 | 4狼4民4神 | 高级模式 |

### 支持的角色
- **狼人阵营**：普通狼人、狼王、白狼王
- **神职阵营**：预言家、女巫、猎人、守卫、骑士
- **村民阵营**：普通村民

## 🚀 快速开始

### 环境要求
- Node.js 18.0 或更高版本
- npm 或 yarn 包管理器

### 安装步骤

1. 克隆项目
```bash
git clone <repository-url>
cd werewolf-judge
```

2. 安装依赖
```bash
npm install
# 或
yarn install
```

3. 启动开发服务器
```bash
npm run dev
# 或
yarn dev
```

4. 打开浏览器访问 [http://localhost:3000](http://localhost:3000)

### 构建生产版本
```bash
npm run build
npm start
```

## 🛠️ 开发指南

### 项目结构
```
src/
├── app/                 # Next.js 13+ App Router 页面
├── components/          # React 组件
│   ├── ui/             # 基础 UI 组件
│   └── game/           # 游戏相关组件
├── lib/                # 工具函数和配置
├── store/              # Zustand 状态管理
└── types/              # TypeScript 类型定义
```

### 核心技术栈
- **框架**: Next.js 15.5.0 (App Router)
- **语言**: TypeScript 5.X
- **样式**: Tailwind CSS
- **状态管理**: Zustand
- **UI组件**: shadcn/ui
- **动画**: Framer Motion
- **数据持久化**: localStorage + IndexedDB

### 开发命令
```bash
npm run dev          # 开发服务器
npm run build        # 构建生产版本
npm run start        # 启动生产服务器
npm run lint         # 代码检查
npm run type-check   # TypeScript 类型检查
```

## 🎯 核心功能实现

### 游戏状态管理
使用 Zustand 管理复杂的游戏状态，包括：
- 玩家信息和角色分配
- 夜晚/白天阶段状态
- 行动记录和历史追踪
- 胜负判定逻辑

### 规则引擎
实现完整的狼人杀规则系统：
- 夜晚行动顺序控制
- 技能冲突和优先级处理
- 开枪状态的复杂判定逻辑
- 特殊情况的自动处理

### 数据持久化
- 本地存储游戏状态和历史记录
- 支持游戏暂停和恢复
- 数据导出和分享功能

## 🔧 配置说明

### 游戏规则配置
项目支持灵活的规则配置，包括：
- 女巫首夜自救规则
- 守卫连续守护限制
- 同守同救处理规则
- 开枪机制的详细设定

### 自定义配置
可以通过修改 `src/lib/game-config.ts` 文件来：
- 添加新的角色类型
- 创建自定义游戏模式
- 调整游戏规则参数

## 📝 使用说明

### 创建游戏
1. 选择游戏模式（9人局、10人局等）
2. 可选择自定义玩家名称
3. 系统自动分配角色并开始游戏

### 游戏流程
1. **夜晚阶段**：按照固定顺序进行各角色行动
2. **白天阶段**：处理死亡、讨论、投票、执行
3. **特殊技能**：自动处理开枪、自爆、决斗等复杂机制

### 法官操作
- 按照系统提示进行流程引导
- 点击选择玩家进行各种操作
- 系统自动记录和验证所有行动

## 🚧 开发状态

目前项目处于 MVP 阶段，已实现：
- ✅ 基础游戏流程
- ✅ 核心角色技能
- ✅ 开枪机制
- ✅ 数据持久化
- ✅ 移动端适配

计划功能：
- 🔲 语音播报功能
- 🔲 游戏复盘系统
- 🔲 更多角色支持
- 🔲 在线多人功能

## 🤝 贡献指南

欢迎贡献代码、报告问题或提出建议！

### 提交问题
- 使用 GitHub Issues 报告 bug
- 详细描述问题复现步骤
- 提供环境信息和错误日志

### 开发贡献
1. Fork 项目到你的 GitHub
2. 创建特性分支 (`git checkout -b feature/amazing-feature`)
3. 提交修改 (`git commit -m 'Add amazing feature'`)
4. 推送分支 (`git push origin feature/amazing-feature`)
5. 创建 Pull Request

## 📄 许可证

本项目基于 MIT 许可证开源 - 查看 [LICENSE](LICENSE) 文件了解详情。

## 🙏 致谢

感谢所有贡献者和狼人杀爱好者的支持！

---

**⭐ 如果这个项目对你有帮助，请给我们一个 Star！**